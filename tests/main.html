<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>QUnit Example</title>
  <link rel="stylesheet" href="/tests/vendor/qunit.css">
</head>
<body>
  <div id="qunit"></div>
  <div id="qunit-fixture"></div>
  <script src="/node_modules/requirejs/require.js"></script>
  <script src="/tests/vendor/qunit.js"></script>
  <script>
    require.config({
      baseUrl: "/lib",
      shim: {
        'mootools-core': {
          exports: 'MooTools'
        },
        'mootools-more': {
          exports: 'MooTools.More'
        },
        'functools': {
          deps: ['mootools-core'],
          exports: 'functools'
        },
        'promises': {
          deps: ['functools'],
          exports: 'Promises'
        }
      },
      paths: {
        "tests": "/tests",
        "mootools-core": "/vendor/mootools-core",
        "mootools-more": "/vendor/mootools-more",
        "functools": "/vendor/functools",
        "promises": "/vendor/promises"
      }
    });

    QUnit.config.autostart = false;

    window.addEventListener('load', function onLoad(){

      setTimeout(function(){
        require(['tests/core-test', 'tests/triad-test', 'tests/event-stream-test', 'tests/events/dom-test'], function(){
          QUnit.start();
        });
      }, 10);

      window.removeEventListener('load', onLoad, true);

    }, true);
  </script>
</body>
</html>

