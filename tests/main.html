<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>QUnit Example</title>
  <link rel="stylesheet" href="/tests/vendor/qunit.css">
</head>
<body>
  <div id="qunit"></div>
  <div id="qunit-fixture"></div>
  <script src="/node_modules/requirejs/require.js"></script>
  <script src="/tests/vendor/qunit.js"></script>
  <script>
    QUnit.config.autostart = false;
    window.removeEventListener("load", QUnit.load);
    QUnit.load();

    // hack because prime overrides define, oops
    //  plan on removing requirejs soon, so it
    //  will not be an issue much longer.
    var saveDefine = define;

    require.config({
      baseUrl: "/lib",
      shim: {
        'prime': {
          exports: 'prime',
          init: function(){
            define = saveDefine;
          }
        }
      },
      paths: {
        "tests": "/tests",
        "triforce": "main",
        "underscore": "/node_modules/lodash/lodash",
        "prime": "/node_modules/prime/index"
      }
    });

    require(['underscore',
             'tests/triforce-test',
             'tests/triad-test',
             'tests/model-test',
             'tests/controller-test',
             'tests/behavior-test',
             'tests/behaviors/dom-test'], function(){
      QUnit.start();
    });

  </script>
</body>
</html>

